# Quick Reference: Roon Screen Cover

## Common Imports

### Shared Types
```typescript
import type { Zone, Track, NowPlaying, PlaybackState, LayoutType } from '@roon-screen-cover/shared';
import type { ClientMessage, ServerMessage } from '@roon-screen-cover/shared';
```

### Client Composables
```typescript
import { useWebSocket } from './composables/useWebSocket';
import { useNowPlaying } from './composables/useNowPlaying';
import { usePreferences } from './composables/usePreferences';
import { useColorExtraction } from './composables/useColorExtraction';
```

## Layout Component Props

All layout components receive these props:
```typescript
interface LayoutProps {
  track: Track | null;
  state: PlaybackState;
  isPlaying: boolean;
  progress: number;
  currentTime: string;
  duration: string;
  artworkUrl: string | null;
  zoneName: string;
}
```

## Color Extraction Usage

```typescript
const artworkUrlRef = computed(() => props.artworkUrl);
const { colors, isTransitioning } = useColorExtraction(artworkUrlRef);

// colors.value contains:
// - background: string (CSS hsl)
// - backgroundEdge: string
// - shadow: string
// - text: string
// - textSecondary: string
// - textTertiary: string
// - mode: 'light' | 'dark'
// - ready: boolean
```

## File Locations

| What | Where |
|------|-------|
| Shared types | `packages/shared/src/index.ts` |
| Server entry | `packages/server/src/index.ts` |
| Roon client | `packages/server/src/roon.ts` |
| WebSocket handler | `packages/server/src/websocket.ts` |
| Vue app entry | `packages/client/src/App.vue` |
| Layout components | `packages/client/src/layouts/` |
| Composables | `packages/client/src/composables/` |

## Test Commands

```bash
# Run all tests
pnpm test

# Watch mode
pnpm test:watch

# Type check
pnpm typecheck

# Build
pnpm build
```

## Development URLs

- Client (dev): http://localhost:5173
- Server: http://localhost:3000
- With layout: http://localhost:5173/?layout=ambient
- With zone: http://localhost:5173/?zone=Office&layout=ambient
